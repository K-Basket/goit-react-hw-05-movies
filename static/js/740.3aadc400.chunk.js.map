{"version":3,"file":"static/js/740.3aadc400.chunk.js","mappings":"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","sources":["Api/Api.js","Pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\n// запрос списка самых популярных фильмов на сегодня для создания коллекции на главной странице.\nexport const getTrending = async () => {\n  const options = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/trending/all/day',\n    params: { language: 'en-US' },\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiYTE3MThlNWQ1NDhkODg4MDEzODNmYmFlOWVkMDhjMCIsInN1YiI6IjY0NzBiMzVhNzI2ZmIxMDBjMmU1ZDlhYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.OsStYVQowb3r8uBKh_yvVUgt-6im-LahqBvtNCcHJ8w',\n    },\n  };\n\n  const { data } = await axios.request(options);\n\n  return data.results;\n};\n\n// запрос полной информации о фильме для страницы кинофильма\nexport const getMovieDetails = async movieId => {\n  const options = {\n    method: 'GET',\n    url: `https://api.themoviedb.org/3/movie/${movieId}`,\n    params: { language: 'en-US' },\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiYTE3MThlNWQ1NDhkODg4MDEzODNmYmFlOWVkMDhjMCIsInN1YiI6IjY0NzBiMzVhNzI2ZmIxMDBjMmU1ZDlhYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.OsStYVQowb3r8uBKh_yvVUgt-6im-LahqBvtNCcHJ8w',\n    },\n  };\n  const { data } = await axios.request(options);\n  return data;\n};\n\n// запрос информации об актёрском составе для страницы кинофильма\nexport const getMovieCredits = async movieId => {\n  const options = {\n    method: 'GET',\n    url: `https://api.themoviedb.org/3/movie/${movieId}/credits`,\n    params: { language: 'en-US' },\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiYTE3MThlNWQ1NDhkODg4MDEzODNmYmFlOWVkMDhjMCIsInN1YiI6IjY0NzBiMzVhNzI2ZmIxMDBjMmU1ZDlhYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.OsStYVQowb3r8uBKh_yvVUgt-6im-LahqBvtNCcHJ8w',\n    },\n  };\n\n  const { data } = await axios.request(options);\n  return data.cast;\n};\n\n// запрос обзоров для страницы кинофильма\nexport const getMovieReviews = async movieId => {\n  const options = {\n    method: 'GET',\n    url: `https://api.themoviedb.org/3/movie/${movieId}/reviews`,\n    params: { language: 'en-US', page: '1' },\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiYTE3MThlNWQ1NDhkODg4MDEzODNmYmFlOWVkMDhjMCIsInN1YiI6IjY0NzBiMzVhNzI2ZmIxMDBjMmU1ZDlhYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.OsStYVQowb3r8uBKh_yvVUgt-6im-LahqBvtNCcHJ8w',\n    },\n  };\n\n  const { data } = await axios.request(options);\n  return data.results;\n};\n\n// поиск кинофильма по ключевому слову на странице фильмов\nexport const getMovieSearch = async query => {\n  const options = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/search/movie',\n    params: {\n      query: `${query}`,\n      include_adult: 'false',\n      language: 'en-US',\n      page: '1',\n    },\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiYTE3MThlNWQ1NDhkODg4MDEzODNmYmFlOWVkMDhjMCIsInN1YiI6IjY0NzBiMzVhNzI2ZmIxMDBjMmU1ZDlhYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.OsStYVQowb3r8uBKh_yvVUgt-6im-LahqBvtNCcHJ8w',\n    },\n  };\n\n  const { data } = await axios.request(options);\n  return data.results;\n};\n\n// getTrending().then(data => console.log('getTrending :>> ', data));\n\n// getMovieSearch('car').then(data => console.log('Search :>> ', data));\n","import { getMovieSearch } from 'Api/Api';\nimport { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport Notiflix from 'notiflix';\n\nconst Movies = () => {\n  const location = useLocation();\n  const [searchInput, setSearchInput] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams(); // читать/перезаписывать строку запроса\n  const query = searchParams.get('query') ?? ''; // записывает значение query или пустую строку\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const movieSearch = await getMovieSearch(query);\n        setMovies(movieSearch);\n\n        // console.log('Search :>> ', movieSearch);\n      } catch (error) {\n        console.warn(error);\n      }\n    })();\n  }, [query]);\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n\n    if (searchInput === '') {\n      return Notiflix.Notify.warning('Add movie search');\n    }\n\n    setSearchParams({}); // очищаем строку запроса от search\n    setSearchParams({ query: searchInput });\n    setSearchInput('');\n  };\n\n  const updateQueryString = evt => {\n    // setSearchInput(evt.target.value.trim()); // записываем в State данные input\n    setSearchInput(evt.target.value); // записываем в State данные input\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <button type=\"submit\">Submit</button>\n\n        <input\n          type=\"text\"\n          name=\"search\"\n          value={searchInput} // получаем из State\n          onChange={updateQueryString}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movie\"\n        />\n      </form>\n\n      <ul>\n        {movies.map(movie => {\n          return (\n            <li key={movie.id}>\n              <Link to={`${movie.id}`} state={{ from: location }}>\n                {movie.title}\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["getTrending","options","method","url","params","language","headers","accept","Authorization","axios","data","results","getMovieDetails","movieId","getMovieCredits","cast","getMovieReviews","page","getMovieSearch","query","include_adult","location","useLocation","useState","searchInput","setSearchInput","movies","setMovies","useSearchParams","searchParams","setSearchParams","get","useEffect","movieSearch","console","warn","onSubmit","evt","preventDefault","Notiflix","type","name","value","onChange","target","autoComplete","autoFocus","placeholder","map","movie","Link","to","id","state","from","title"],"sourceRoot":""}